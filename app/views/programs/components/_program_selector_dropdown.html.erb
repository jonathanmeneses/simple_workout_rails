  
<div class="mb-4">
  <label class="block text-sm font-medium text-gray-700 mb-2">Program</label>
  <%= form_with url: program_path, method: :get, local: true do |form| %>
    <%= form.select :id, options_for_select(@program_options, @selected_program_id), 
          { prompt: "Select Program" }, 
          { class: "flex-1 border border-gray-300 rounded-lg px-3 py-2", 
            onchange: "this.form.submit();" } %>
    <!-- Preserve other parameters -->
    <%= form.hidden_field :cycle, value: @selected_cycle_index %>
    <%= form.hidden_field :week, value: @selected_day_index %>
    <%= form.hidden_field :view_mode, value: @view_mode %>
  <% end %>
</div>